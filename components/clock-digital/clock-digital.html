<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="clock-digital">
	<template>
		<style>
			:host {
				display: flex;
				justify-content: center;
				align-items: center;
				align-content: center;
			}

			#clock {
				text-align: center;
			}

			#major {
				font-weight: lighter;
				font-size: 48px;
				margin: 0;
			}
			
			#minor {
				font-weight: normal;
				color: rgba(0, 0, 0, 0.54);
				vertical-align: sub;
			}

			:host-context(.dark) {
				color: rgba(255, 255, 255, 1.0);
			}

			:host-context(.dark) #minor {
				color: rgba(255, 255, 255, 0.70);
			}
		</style>
		<div id="clock">
			<p id="time"><span id="major"></span><span id="minor"></span></p>
			<p id="date"></p>
		</div>
	</template>
	<script>
		'use strict';
		Polymer({
			is: 'clock-digital',
			ready: function () {
				this._update();
			},
			_update: function () {
				var now = moment();
				var next = moment(now);
				var This = this;

				next.endOf("second");
				setTimeout(function () {
					var date;

					date = next.format('dddd D MMMM YYYY');
					date = date.charAt(0).toUpperCase() + date.slice(1);
					This.$.major.innerHTML = next.format('H:mm');
					This.$.minor.innerHTML = next.format('ss');
					This.$.date.innerHTML = date;
					This._update();
				}, next - now);
			}
		});
	</script>
</dom-module>
